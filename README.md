# CraftopiaRNGTool
 クラフトピアの宝箱の中身を計算してみるツールです。

## 注意
 - 若干無理やりにWidowsフォームを呼び出しているので、予期せぬ不具合があるかもしれません。  
 - 計算間違いやバグなどもあるかもしれません。  
 - 当ツールによって生じた、いかなる損害もツール制作者は責任を負いません。  
 - 全て自己責任でツールのご使用をお願いします。
 
 - 現状島のダンジョン及び、射撃の試練早撃ち編の宝箱のリストは入っていません。
 
 - .NET Framework 4.7.1で作成されています。
 - もしかしたらランタイムのインストールが必要になるかもしれません。

# 起動方法
 https://github.com/nuxoo/CraftopiaRNGTool/releases からzipファイルをダウンロードして  
 zipファイルを適当な場所に解凍しCraftopiaRNGTool.exeをダブルクリックすることでプログラムが起動します。
 
# ビルド方法
 1. CraftopiaRNGTool.slnをvisual studioで開く
 1. UnityEngineの参照先がおかしい場合再定義する
 1. ビルドする
 1. 出来上がったdllをreleasesファイルのCraftopiaRNGTool_Data/Managedフォルダに入れる
 
## Unity側のコードを弄りたい場合
 1. 適当な新規プロジェクトをUnityで作る
 1. Pluginsフォルダを作りCraftopiaRNGTool.dllを入れる
 1. 適当なGameObjectを作りソースファイルのUnity/LaunchScript.csをセットする
 1. ビルドする
 
# 各種説明
## WorldSeed
 ワールド作成時にワールド名の頭文字によって決まる0～254までのSeed補正値。  
 文字を入力するとSeed値が、Seed値を入力すると対応した文字が自動入力されます。  
 Allにチェックを入れると全てのWorldSeedが検索候補になります。
			
## MapId
 0～120までのワールドマップ座標に対応するID。  
 ワールドマップの一番左上がID：0となっており、初期の島はID：110。  
 Allにチェックを入れると全てのMapIが検索候補になります。
 
 WorldSeedとMapIdの両方にチェックが入っている場合  
 自動で同一Seedを省いて計算が行われます。（実際には同じ結果がたくさんあります。）  
 また、検索結果に表示されるMapIdは初期島から最短で解放できるものとなります。
　
## 宝箱座標
### 全て
 島Lv・宝箱タイプに応じて、リストに存在する出現するであろう全ての宝箱を検索します。
### お気に入り
 自分で作成したお気に入りリストの宝箱を検索します。
### フィールド上
 コンボボックスで指定したフィールド上の宝箱のみを検索します。
### ダンジョン
 コンボボックスで指定したダンジョン内の宝箱のみを検索します。
### 直接指定
 宝箱のpositionHash値を直接指定して検索します。

 フィールド上またはダンジョンでは実際にはありえない組み合わせも指定できてしまいます。ご注意ください。

## 島Lv・宝箱タイプ
 そのまま。ここの値に応じて宝箱座標の候補や検索条件で追加できるアイテムが変化する。
 
## 検索条件
 追加ボタンから検索条件を追加できます。  
 ボタンでちまちまと追加するのが面倒な場合はテキストとして編集ボタンで一気に書き換えることが可能です。
 
## 検索モード
### All
 指定された検索条件を無視して全ての結果を表示します。
### And
 指定された検索条件を全て含む結果のみを表示します。
### Or
 指定された検索条件のいずれかに一致する結果を表示します。
 
##最大件数
 検索結果を表示する最大の数を指定できます。
 
## 検索結果
### 島Lv
 コンボボックスで指定した島Lv
### Seed
 Seed補正値。実際にはこの値に宝箱の座標Hash値を足し合わせたものがSeed値となる
### WSeed
 WorldSeed
### Char
 目的のWorldSeedになる頭文字の一例
### MapId
 マップID
### Type
 指定した宝箱のrarityタイプ
### 宝箱座標
 宝箱の座標Hash値
### メモ
 メモ書き
### 確定
 その宝箱が確定出現するかどうか
### x・z・y
 その宝箱がある座標。横・奥行・高さ
 
# その他
 各島の名前は少し適当です。  
 変更したい場合はdata_treasureフォルダにあるtxtファイルの名前を変更してください。

 各島のダンジョンの位置やindexは付属のダンジョンメモをご確認ください。